<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="noindex, nofollow">

    <title>ðŸ”’ Chris Gurney - Designer++;</title>

    <!-- startup configuration per https://w3c.github.io/manifest/ -->
    <link rel="manifest" href="/manifest.json" />

    <!-- Browser bar color - Chrome, Firefox OS and Opera + IE + Safari -->
    <meta name="theme-color" content="#FE9B27">
    <meta name="msapplication-navbutton-color" content="#FE9B27">
    <meta name="apple-mobile-web-app-status-bar-style" content="#FE9B27">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="apple-touch-icon" href="/images/touch/chrisgurney_120.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/images/touch/chrisgurney_152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/images/touch/chrisgurney_180.png" />
    <link rel="apple-touch-icon" sizes="167x167" href="/images/touch/chrisgurney_167.png" />

    <!-- Metadata -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <meta name="author" content="Chris Gurney" />    
    <meta name="description" content="Chris Gurney, product designer based in Toronto, Canada." />

    <meta itemprop="thumbnailUrl" content="https://www.chrisgurney.ca/images/touch/chrisgurney_512.png"/>
    <link rel="image_src" href="https://www.chrisgurney.ca/images/chrisgurney.jpg" />
    <meta itemprop="image" content="https://www.chrisgurney.ca/images/chrisgurney.jpg"/>

    <meta property="og:title" content="Chris Gurney" />
    <meta property="og:description" content="Chris Gurney, product designer based in Toronto, Canada." />
    <meta property="og:image" content="https://www.chrisgurney.ca/images/share-banner.png" />
    <meta property="og:url" content="https://www.chrisgurney.ca/" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Chris Gurney" />
    <meta name="twitter:description" content="Chris Gurney, product designer based in Toronto, Canada." />
    <meta name="twitter:image" content="https://www.chrisgurney.ca/images/share-banner.png" />

    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #mainDialog > * {
            padding: 10px 30px;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
            cursor: pointer;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .error {
            display: none;
            color: red;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">This page is password protected.</div>
                <div id="passArea">
                    <form>
                        <p id="passwordPrompt">Password</p>
                        <input id="pass" type="password" name="pass" autofocus>
                        <div>
                            <span id="messageWrapper">
                                <span id="invalidPass" class="error">Sorry, please try again.</span>
                                <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                                <span id="success" class="notifyText">Success!</span>
                                &nbsp;
                            </span>
                            <button id="submitPass" type="button">Submit</button>
                            <div style="clear: both;"></div>
                        </div>    
                    </form>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script>
    (function() {

        var pl = "8GUq1mQ/07ZbUvDrqe0aHTFd1mV+JWsgRlImTy+B3vJOPDXuRlxksVkNu85/gJhwRHXJIBj0l0D/HjG/gmpFZtoKdEaKq94GPMGuoM5ZZ4OZ6MVzNL2VFS1UGzPnwHLKI8xN03FIO/b/QxvQ0jDQpP7y4svI5OzYChRljne2R2QHPqkSl45rWovN3IayPk8F6jo1xOlLXUtCoDM7FzogY+qkLK6+jhtzq1sfAfrPs2xR0LdiA+qDYKADAzSg0IGstTQkg+++EbHDVuSmv4kHpjtI5TDYdynwx0CgIYXptCBviLBQH87SfL6q55MUsASjz9RqKAFGIfaLSTpzj4VzqbqYyD0Wwjzzx3oIc726p2eSrfB4aizmW0HX4INKGDaR/3ECPbptJFsK0SlxWJdpo0u3ljenu2hAK4QCpAvE2PNgR9MxmPI4P/7objUbZXvJrI3zrVYYAxIxj0aIKBgy6U5F9B6RLrmHDh2rH3ApJrOeSqlXLuJqggUN9SsKPByXk7nU9h088kaL2Lwt9f+6sApkr7Kr4nd186AohmZp0bVMKMd/FxfN9mRiYUW/5zyW5VGK6EyuQ1itCrkQ86I1K/MkjuhJZnK4m5Ei24MMtxCqwnxXr9UUdyR6BdbQPxemjEvjtCP8exwPjpUqf7Q+2qf+vBtj+PtZ1iwb0u4YgNuAsfE6lTUxkYEgZ74ATTxaKhC00ZCgEWg41hRfveGVh+RrNWdLPZu6QgHrXOE/fPraqY1NbyJ/tg8dILwAOQy6oTaCoRuXTqQfzbOE+6wOyIwaNC7UStXZ/NphmkaIHtiw7d83gAoEVfYDcvrwZJB68J4yzlfV7vh0ANamlK56IbEZiiOWQFRtr7NTmFMOxaDmT/d6TVbDhUarvt+cqPswFsu2w6ofyqiwE8HMIy+E68H1pTX35pYH7baJR3zdFJnlsCvKsJPSQncBP6mnf9pXJB0v0w1qBvXuoHpBaOFR/XAJtSAOHkd0eqheJ9R+5AKKDguBQeQqGrPyDUNJA636wggwCt7lW88GgbUxp51aSNUbTFsk0EOlewcse0HQBi3WY44N/YEAdwq35BfRg2ZmdC4c3M585FKsflgevt1VADZYIfcUI+q8+wIsTxXZMC8kUf5qosKdhAqK7W9O5smAQI8e2/6rJRwMs5KLUovIwa9NQ0sL2h7VEsYRuPM0Qu/WqLrNIR3jb/GgctwFXnMdR4QPluUtlK3H3ZSB30biJbiuWAJd4reIluWi3G3AjrSBeF0Tz0ke32Hpl9nHf45rcx+mC/wpTUwnaGZJwEhBJEezm9GMSovoJmBTx5YJx0pCciBT9m9HFv3vXkm3Mc5bK7dMgm+5KwFiEAe8xLrVYyByQtLoiKr/ucVodAhlX30X9OuDlfRKa2KatFX0mfw1MTZJOJFZS15xMff1Uhd9EfAUkJdWpXr1oUHL9wwarH3cRzXdn26GXzO17G3R4cMEbqirw82dctDRhhdbdaXKhDbHisc8FVaIRsvuWYTNWYh5L8FpXDyp3sw/SAqTU/W8+01Pd3a4SLc4M2BFSX9HEQbnN3FwVAn0HpkywMmOrdVj45DvDPEw/5gURHjsMxcnfFXCYfwxV26ijDzPiLUrSmbjLqKts4HitXrQKUArEMn4oRRIo4RyAAwLWfH3wwA3cbOO26/rWsIlVi/t80XUpWaBLXASxi9X3QshoRpyP+IB2xroMIgmIIlzsImz+hfrOtRv/lVKRHNtTk0rkbChOnkM9CXljwrKkNQOS1mvFxp58D5GyM9v5kheDUBR6C1fo79yPqwEM7lSmxqEB5TWMpdDxrLJoyesF47/5mrUlTUTfiflZBhfzRakYe5JKV3yyH0cq8H+Rv+AqfF06vhJPF/JcHWpbFTVdUxGyFMEXXAGZM+0usg0H7Y0bfGbya64bE1HZ8tah3hCh9Zty2Me3nO8kodUzganVA2es4PhzaM2Ec3LdiBOT2NYSqlVycc22QbBGJc0HhuLsfOCaekwNBg44wZ8rfYEvLxgcgysF7LMT8hAWP7CZPbW+ArdYv8sbgPMaPBEeZyc32BFyPAz9peaD45G7zKrNBTcysD43JxIjVzT7APKkQem6qs4ueASW+Z7Q4C6nLY7nfY4PqCtbkf/PXBKlbTS+o5JLlw0jtINoWGOfL0SYbcSxWrEz3ucGa4jWm8W+NrQ8sIH7/TegCMeCRcBBC85HWGQZlPok8AuCVtiq3AWvXSe+xKf532sMA5GvV3lDEUODbui9Ym0y4NYAM896/WdTHtKCwvpWvQheWmnUMyqvqNp4uSsNhFYDX6tkmkP1LNl8YqsQf3W63aUrk8kqRBNeJYlsEwZ5nGG4HhpD9r9xkE0irOawzaV4BEem0KsPLAbFJv9y5jYkEzaajyRIUMsDrpfLdGN6yGOP/fUvBXEbHKJjUyj12i8+Yk6NAb30cxO6qWVNjoI0xKFFUpyq4W08AgdPMDh/BqQUzZEDTl64hIa8UreMBf4zunBjVv28miNwyNNjxicZsK0rK1yrm7UPcVzRjL96r1ItmkD28lH2m0GncksXKtnWrPWBi+ZYrjmESWrY5+2abLlZpK5CaXeS/4wwQCRs8hhurPPYT7CltAWZy9xbJLHpcK1tPwhEU9ezdqdLBLgOrbURm+yPykKAgfS3eBtWv8GnIP3oL8ZLXLVb82Iha1BBZa4TeHMdLKyLnKlxtJXXZqkAfjSNQlpP/83wQst7hkqYq9VgWLIe97MBde6Y1d8A2Kwe2K31t8mRoKvDsuNuMQZcu0tMvTIc9fsVPagluM5CbkXnIbSeFoxXDURFKxB6izk+ffxAp/nXXQDJkJbA0QCK2ZIrcLej8VZjArFxpmP/54S/x+SoVspjPClT8zDqqZCJQcvHGTVsVXNLTJ1iBhnbpSjH7SFFT6BGZumAzoDKW7bw5SxSmBihXl3VG5Qopc4QAVn5lqVWDLTOfCeI5+IaSdvPOzE35fF9eQwcs6DvdUe7l2Uy3gIpNsn3mZ8XkmM/rds8cuIgolw72FYfq4bFV2C+k24T/20/PUCvKte+DrArT6xOTGO2K35f4J1/pftU8dLyDTY/Q9LWdA3VabI5tt9rCZ2REI/4AyE9jK6PZn+eGbIV/A21kcuztdo7vLFEGLCZIiOW5zJXG4Zj/Mn+eQRZFAXgNJ2VMPA0e3INEj135z9uhH+BXh0l6ilTGqmI+RNGIY5L7W/1+PwdDEW+pZX2yMH+UhV0BfJMtByqELUKHxAGnBj0DFxPKM5wPpATm7ygKFzeat7RuAXUze7mvHfpJpITP8XOTHsb9Mglhl3U3jhtcDKPsj21mYhXYu3WNuZe9vWxTb0KrVAnqsFBrUbkA79pLdggjpfkc8x771dhkcSq/FXfAO0IW9a0T9JdP+g1OswVq54V4osGkZwSeBUm3javoBDpC6fx1EYkuv5I7cJBYsdX8oSMu6nHqXAO7P2JMZi90BxuzCHkxJMDHcBpI32dHBY3di/WoIpWgNWI6qNczv+JXwVZVubORwhVCNkIpCHHj5ag20Vs0QSHRk9p/au007J+wbok7ozka/J3saNqlA51BLUzRBt1vQcKVKjdn/rK18tD380pT82riReWPnMidCWjHpplh9BcL0+Pnqr9JNqpmqNqHfhFBLtuUB/2vm5QFeSnCZjAEDwA1m5OvVFjeyKnV8r6aW6LpBpuPbleDzPiQeLp0LmDI8r/AbUV6wMg6t81oks7LZZu6zVpkAPuJd/LmEEwzx7I7ILSjKRtm1DUNdfwtIHrWt6CKW2oX72uyrXQ+WKeFdBd6f4z+wsYgK5kHHMkGdETciqsbUkMa2tt2xlG7MceB1pqwOjBHyBA7u7eBFh+1mXScdH5NQcWKvNLNihC4av2ygDmfT5f6Qsn8oRJeZdcqSJdRSap0XRpxmmLLVDaOZsc/mxRSlr3dNxcEf8oFQkiKrF9WYr7P/e+Zhhs7HYA5VepV5At1VmBzHisa6AW9MQ3LAiVSDiOgRb5XIqXhiSkMYVeaK2orDjwuaPiCwmzAOMJNjLCNwbG0JvwJzVcRmunBg7CMvJePk/MolQqP6SyBU4ekrHW7xcqso73dVJWl2lgJbL9Q2y2FIv/HKaVABJEc2vetjtLv5xgLLN6TGLrxmLK+6gEliYNAS+hbCYp80EfthaS2fixk+mCpFsg1r0VPmsRbre/ht3A2jobnLLaiDEUGcH3MjCsLDB/zjRXOw0K9rWtdqZeRpAznd9mUY4YlBPqXU59dz4cLYrqrsZolXoMdOGG4o79btYJa7lzvY+iOiKB+A9AAvZxQE1eL41riHcLcHmVWfbMFszZUJu6clY9v/1hBwozVs+bIOMF8ghKGDvm4vOWLt9jiiTrwAH+RR8449paugjRaKtOClVVlIa7kqZlyepwJjQ9NUXEDG4x+J4jDV8SXJZwmerAoVJ3Omys5UAiByUYNj/T2J8yTF3qoAvPbAjlmBxVE8MHUmb37KBhTOCz0tK/TA3Y7e60Gr8PhAg7kOUgF2GNORPhx8luQ390gIbINp4KrPWB6KlHKc/q+sVONYonU0mVwAoXtPEckK1M7HZBrTmvqO+q0IkRN9fqzyXm9dUPg0WwHQOa3JwAKKTTm24v0F0OEvj5m4RVDVQmMBzGvzcubyCoHrXjhE1iZj4ljQoN6Zl9Z7enlknwcty7zwjE6XjNDTKaDcrAhs9+0Q5Dhh4jXbWEk3zN6Fv/l/w1UBM+qSDQJcnKGG2i9tfyd6ANTwHxGA4oeVcAlRjNz/ZEgkOJTDVITBNt0kldapDuu1aGiU3Hamys8n2b7VRWuJmXtKZ5T7mgcfCSwd7CgbDbvZQ84QQeC1gNw5YGXtkUmql1roAzQy2qX7CUTwM8ruB+CQB1ZzNOluG9r+gc9us3tbTk+GBP0J8YnUYm79TeZhYthX0LtVAKfThu2ZK1LJsp8Vozdmr3wHgKar7YcGEKBRDscZstMj3uf3x27RcvhZKTAVmgrTQnq2Mk2ooXjhjhUQDG6eTGqluU9pLzaqSGuTbyTJp57F2iGRiYoRRLgTgbseogwLAWJ4geOjE+Pckm7SQmx++E8qmN0qxPivxrGzOVViii8GAesmANkEd4J5z7jvhhIWfsCa2V7bI1HutcIePI4S7MHBFQ6D7bB6mWb9C1yur0sMaVoRVt28B5/BSqdi+lD5FKTmZAUnCLIa8ddaT+Fub12bNAWhwnaT4BVYgPcdBg/DwFaROTF9/ZcQNGq1Wfup4V3DyvKbSfwOqFC9N9Z7562xMTKVBQXU5Drgn2TWL9co7XPAUQEo0SpoW8qpacBYvhBwLAxWW/RXRwEl/NP8CJBey+G5vt1Z64kZIXUEd/2ZR3N+2UgfQLD4C4rtvkKYBqTTj4i1KygiyBFTlf+Ar+nAiiBydAXaxhuoOUlLxSk597n0EmAzFGupkxPblEtgNJ1agEoAihvE3SRmD/jLtGEiaVddaz806i9nVXNvJ8TNdr0plelFg/V87rz+7wLS3oNfqYjuAUTkpjk9FvKzqDOM9ueG8VX0FnZFj34en8StPZD8KkxLg6R39LeaHaBjQZ629cU8fRn62kHriO9mewtn5wO8DdqNGhXm1nsC7wJPbrPKwEXs0YHZ5RaXU5QMSK2d3VoIUz6zYpgUtFe+0nz46s51eZESB/HlANtpRuSnvYCzfypmu5VSLaWrII4YeCqGNQfMgeVVeRq67mKHlMl9UywVNllUkimgmsQyzBU0MGcugxa/E+7g1CmtNrRHB2sAmn0KAtQyMuIYUJffoYEDmxLbLRObFS4LXjc/HH+nhpMkxhRI3DOTVmA5LasZha4p9MwINctKeQGCUnA6a0cywotcUhN03lmKmf/lXeJHktfcCQsKedc+NQGkPlfM/3i7ds2+iaGp1SDGU2Fl18wic4yD5WRU9fnI8aN1HQnlrGFOaV6ooR70V9zgYerLEYDVoHYwAVO56Xatq8mWoIzCYMEJ5D2srnIO7cXLOj6llt+K1+MdknRJMsj14l5ZjsA/Ai71BUR4ELli2r6O3iEWvrb/W30Zz0oSeQS2uTOT5iLGlzkBIUEdwseKkxyFnxbJUMKlMrZDSzGai/ANFXsPcbKy35ROSOBdobH/nRGjHsanBlFZBSTFpIoRr33NzJ6oJu9PEETswgSToMBU9PyezRhUXbz1Anhu7CL50FZOIrVK9tk+uZxbnHjenZ2CzbFvIybpldvcVBeX6xDZTejhOqXB2N9U6a5/wO5+N/jYyx8hpMw46Y9LgZm3BdYgVjgfQmy5RBswP66d3FQYX+5pHXQ2CKvqlSiXKg4JoxlE3aF/uysWVIaL6gYbtLqHI1LidJG8U5szWaBsgcjTQM4jI60Tq6YbGAr1/hJRRxCHD53fV42L1+H7rEKbwPc715Pn3IOuWiZkbQx7jAtxtN590nTV6t3slgt90fIrqw//wuTZqvGMSOVqm2TpOui9jKQ96v4qik0mUcMUIBeDdsKo3pJftjse0Wl2ji+u4Upw1DBTfjpgyBHCyCqpD/tN2rVVKhI/9sMDgdzVQcUJH0Z5qo9a1jR1Fx9r73wdtnObgg/3TfYWvlMgAdmljw3xcHkGQ2taVgzHS6r3e/E8I37czJb0g9b6XDlvfPsrz55Cb9TjSfjq7HsWmTD/F8QiwxGPqHr8lCyQU8DCMbyQG2lPdoqfKX3dzS+ZE7Fx2V9xz69T3+ndYD2kzRKyV/0fXhkOiReKnCG5MI4W7M76MxHLTgd9nWDgMUp3QkSl1LlQ985SFdY53q+aRP2DTFS1IiBhhlb6xI1Qv+A0Qdx9uPmwnw24aARkU7SRmYC+zEuS05bz3GjgYT+erQpbhIX6VwsgQsK+m0HiniKn6DoYA5qLKFVnBAL1JR+zNYIWA9JvG32JfPLO1ajXqvrVyy2150UAF9Q3ka48qGtSLINzm7aMCF1c3KuPDuur0ZHlhN3LR3/Gfs6NXZevzxGjyOVxzZtliiscs2s7XjaGeB1uLY1wLXTSxUfx7dO6yAXL/djE0OZJgVVv0aFP0Z+QRNtBIHAPnf1CxzClBgqJ65dEfKJruIsuwLrS5m7xcriZwiaGDT/IAdESDh4pAyRiukfnXD5K7OhEtFlNUY+AIZU8pLrePBd9w7yYDnLyM01257pvELJYyCfIpMUOVztFAvdlyW5ziE5diD5O4ZgTsxe1nzIXdQ1cDsdt0QerMq8e3G8K0zH90sqp+5/4L+jqmVVRzsp1+nw0N4ARpMvOYYVhwQT/+uA6QTFuerWmfDliAf+WczclzsFTI4i/ik5m/jSsvW+IM/Pii5MC0ysHMHTq8ywmWj+t5xaEs5qKAYZbLCZBV/JLc2wBR8/3GzF9E9i3PdV37spAQoaT+5i6NdJkOPqZAg05/g1iQz+hRRpTLLnt9HHs7GKb2uD9bcXytz0fxqFvh+9UeliYQt8bv0TxM3fJlMRCB/F9ZXz4imzQ1nlskA/JIQktf5B+kYI4qTHoyBvOrP8It3fMm/WxafkeYEkJxCF3fsf2OPRxcBs/5L9CrcZ0NABn/DPNreb3c6wPyFKYoYt95StCZcr0E9LF0W9D+dcEpg/osvLJay3CWpPmFCYj3OqhCeIDTeHub8eo+l3ozKcO7nWBFqBfLlmNodgZZ9C132+WoBv7ByoZ+eiCvg8kO0QqMjsAI6N9TGNojHBiwC8coUskmQJp/aaQwwD3YNjiZb9eQY8trlc1Telot9DKITDJsTFxPV8odupRSu/WF1FVTwqmWxJaXJa/JdgLRpXnejBz84AnMqli0vLuTkBVEyOEJUMzPHPsKcLPHx1SiVB4XopeCD1YyXqIyvsYHlLsnKzfQq2OVGtuoybTB4pKbqxSDTUkBYyASE0S0oyqEil0zNCYEsQOYjppLfa+Tjn34uSMtg2xCOchjO6DrHOKF9Q9zRETrMoZsl8+antozdHdHKDFC4qrSiCVLkWDF443PXGe4CkMKZCiyaEfhinGO8xFUv5wdV5ETaF45Xu/JNHCpbZ6lmo08Zx//6DV4qZo9aaT0xyqy3RvQmvGPhkiVDUSJZ2JJdwj4+XElMg9bgOAkFmssCrYON3SqxIljummiUTfXyEUJxCHDfm34+5F4MQ4c0rd6vOx7yaJo+UIWeOy3q4aiO0ItAdRBuZV3TP83cEJ9t5mVUAVHfsb9ItKn+NLTRsZW3bbJwwVaXE7p7BjKDM/CT/Eou066yxzm8AlD1YvyOSfGRZ0dpMzrTzS1mIiK6fl5tn6J8E6a+v+X+OYjgAZBUo+DDVKnSigrzMwduzdVLIk9km0UfHFd+AFqRVekuJe9UhH+LjQQN6Yr+1fhehQ5W8e38cMRmKoGRS4X7xP7spICZtFzN7gY2gJD+Nx51USG//ItDKYaZgJu0CnRow8HJ9rPTurP9vjNmRdcKmJo0is64pdDcYMu8EFCabGaUdd+MRihFJz6AY4Ocadq5du9RT+9aM9DXOyaoLNog1EDYOa8qEJlkhthd4LegJxSlN9Vjv5Llw9mVewsbU/813O7BM43JVsvPK4k9gdKYu1A39OpyPTcRMOBbg8QtiXqBuaj5C2ict4WXRhrsl5qZQX5ZRrVkTQS2p5apHj8xS3LBUPPRtlf4vdMbaJ5ZB/Jvn5Jv8/9p77uBga8rJDFMLcbMeIjjG7m2U6WOJLAoLHiBtwAlHsldbIBaUQ0JRkWLeMKHV8slWcHVx/MqAY9Jx1nfUKCnaJ9C/QOtUXhvEaq9rApL00ALioBY8NQDLVgJZSriWrzmKPz1qt0lua1xmPgJrV3XKzQBnoDaUHd/MC7JUAMkbS9HKxYwYCGvP10+pt2bEkZLvHdcr4CkiYca8fqveZ3iJq6uU8DZU3f3seb2nKJBjaajWJjTcn0+7cNtBdVFeP1l0oNSr52RiJyqPao6uMr5Kae6hP3mQEcdejxx0cS6L4ndDA3KIqB5zgVzRM4rQ1MqnMBSTQQvIrnXmfPmz6cBU/SfvGJMvIzMJfLgry4Uh1RP3DT1FZYHbnr0yngyVzoKeMfMnP+G6qGud8T6qNjK0uBax296zsGy8+a1wRVliQfDq23IAsfuzYCnXZFV1YW88vmnQiW2cVbPQHmSWvXv0NYlIe32YUtUfggnw+m+MoEld+oBqmmdY7dGSufUpQo1c+VsVHKpNq2ciRYR8GXrvyyBKND8aX8uONy4j7+/iEyZFk1+VI/Nz+rdYNki3enIv3VhOyt64OMq90rr/WRfyJlJYfedUos4u27w4cUtoAkgFRqeD729J7gydnZg0w4ylhf7orYYyk3Ks+yuLjHS/x12aprsvE7AhdOeYZ4yhjzg28xBTL8tKVOCf1rFdRSUdkzcdbuWarRZ9tqSvEW/BkINaZl9tqC7ga5TGJppI5WwG+ELybDOwV57zMfYxb2IMgVixJ5X9L2bNwEUoNx+pxbvMWy9VIEfmOsHz2cNf6q51cQo5ocHlI9Ox0Erxi3uDC5H8Rh45uQ4TIldd4Yn6IJ8HZlP/ERHpBKN4uuUzPXZRr21MTFALLB/VoJ0cwP1TtveFzLpiUyVy+WIOSmZ0rl3GtAGHqY3aDzFtFoHlRRMiQKi4CcdpjJnE/exqrdG/NievqGF9gUu5uCRPKo6VAMT9iCcQItOWgmk6hquSYosEYttytDrhmU9posnwEPnQw7euCPaiRLJd7SoP+CnplDaMM5RGladSRErn1Iyxdq6oIXkfX0I0lRv4T/AC9cYlzwnRuwHNCyr6ao+tBKK6pWdMVBjR5LpQcWaiqRg6OQP8mjqzaymmQqXQAiGtbFiFxw5Rd3ZYC5njkl9nKCw5C01UHMRrRIrx4GcQVBRFbkj0SK3XTq1tduHmBNZbevRHSE9nFQ4hrNN+4UrP0O9wPSVp7cwQ6W/shHjtPxwZKXa8qpwaLDEiSeVS1k6INWE4722gIrYGevQzDjCORpo707ETgeU5+ylL4wO9r3ZLhwVK40ekPNtZNNBlPYIEC+fotIxWzrj48kO5OrHgBkxvRcHG0JQqpIGaKd5zUTvm3O88uk6tRNPl/sFs/Lt5fMRYgd49jHXu4dGzNGbZKaHQRy2WO3MeZ1Pz8meUuAUEOpeA3v9GuPkZ3J1rWg2C+9tRkpvauLwx97zKKvwuNC5195l4eGnvtA2Hhsnlobe//MyUWs62qeP6kJfVFBdNFQZc5XS3uJOwl9yw5ObFWTaKwdPGE/otR7OqEsakxsyrk+QVt/EP5+yxdq7PaxvZokhZNG74SiOcplqfs6a0IwkW0xlq0aULQoG2AJbdRInV0wgm1btwhCu6edqDPGMvH1Vcn0RGDb3c7+bBMd6T9kEeqUC9GjPK0NXBdCTLfMpC4p1h5ZvIEg8Nbbna8unB7SMBe0SrhkxIK7ttQfNjMFibC+UYCGPlOlG41XeqB3ycFn7HaY3WPeiqZl6rAUkWOwfF1YlLc9uflPUc1SjjgfkMIOE9Y1zARUSyaaD3elKfqPcoi3iGzjpmvnvtxrrQpKXY8n6kXqc8LT5G1MbAWwymceP9wOPno2Bkd8QzvxsyKaH3HWcSy4y7Q1qq4TK/ueRRI9NbTCPavaAWQjaiqSfpsuAcdwjzj7RWWKMpjzqB2/vi8EbE+A3y8fQxnZ1vwiy8u8at12rkWrKtJU7HUUQHVexttAe9xt0NHD5bghCqMRzJQjoQ9Hb5+75KQCKHqcEiNXEK+JWkupJBIuab2xY6+wGPYpYBhjuxzfG65ort67DXaxVhV9w20ScA7BgHd6FlikS8Em1QQ3sptDbjsfkW5XxoN2VquaagZZvpO4sZbPrkF07uXBEEyYiPZFGZhEsQBKjJosZCrKj5aF75iAi1sMqkemu4NbW41I7JPZDxsfwhCg2sEajTW0OBKy9awVqTycA1V3VPK1fyV+KSsaiEYmUkcLaHUF9DRqT58HMG7JnOMuP2ablWujFhtG9NTY74eqhrY8l2ImFKM+IGrz3IVXeyNdxfqOyGJeIlsKClsFeJOjBWQvS3tloi5GdlEP+V9M+xobC8DOwVOtwrpfNl4CIPgu5q6/uVJmAUms8J21NcOHLj4zWVDnoTNZQf3oWV98ysIklefL6y/5aXe+9No/fs4LRaioKuNm89mnHx08sLc0NHgNQ9eHquu0jZM0qbhq1s9NQk1AnGeavbSqrGzXgcbQGyJ8EWI5FnpXeTC8iW7Z3r5HNC5l3a+Kn6m8vdJf2zgnPDnPrYZjgwVWfdvWiv84Z39qxukN640dVZ3aqxatGVDCPnGiV5ahubpNDr5mjFLD3GFqhm+c5nAm6ZCPLFNzXQ9KmRJ89t3E0/TL7NhXFTT3GZhEomgPhSYthk7PWH7pATmeohS2jTaTlOBrneaY0Bm038CR0KyY9lfJP/Qk4m39/U9Mr7j5iIZFy3UkTBpBzQ9Mb70a3NGJZf/pflxxF3dYo6qgyOLty26R2jgFTxtNZeCfqqISZcqFFm2/Y3ExEjzK9y25Eoy8jgWxd2UiRrGoqYh1KbZBfPABgOd1SIpUmEpcAmJx8cMj2VNwITQ4qayVqrMiq5VUn/ZLst9wopVeWk9k7Onsd1nfOeh36AooBwuBYlXJlSeheWMVtFPjN4roxrowWzaLnHmS931Dxcg1Mze/YHTxjim0d1NVzh/pCZJymDdd+FLQf2CrxB6uLEraRYxqy04M8R5oJfeuWk9husLVNn37whrYNgDXACHtbf2pLz3WaoVn8I09HFnGrZHxUWlu1tfmUjRro1MXGuBvqC0M5leRkTHcyVUCk03LFpaOjd7VzJDZyFk7cOr5dedV6jL7xber1v9tsG1cOBuWpkdig16sw9jQbHHyhkVKIUBjHSRor5l4i/ErHws6QDAKhNDidMJcOmRLTRwohC714mnVaXoH7jei68i6ZnJ2Nt0+UbG0hFxvzKHSPaj255ViWJTPyd4iChPBfD2MoNIXiZ6JwWYYBJRbPKZbmk/YQ9UWG+r49IckbuE3l8nVEJJkinKhuGChIfxyjzpdd5SJPJpzToZeZYc+8pfJCHdCyTCex3LauX3vAjABKzpJzjP2fsH//7ixILcF3vdZZH5CBaKjl7glOSnC6VvUWei79OxjkfGT4vEf9KhxzclzTbwiPSXS2nzJPeLcVMtXOu15/Ex8YwVxsITl4vQBHgczQi/HhAx1d3BwY+8PxdRaExoSW/F/kk1Bo2GPweyv2/N1ClS7haRB1VtqSr86hQ2s273+0diVGppFJB6eOC2dRBq/tRpWFxZfvVH6YLVQtb3e3qHEKo2ZGUYKkX7BUbPyzhW+eMW8TGhagyNYNtpXF95C68v1kQcmpVgw/bQBiZM/9v6OoOGkY8bjuc/a1pfp5Lqssv9VavuF9w69jKuVj8JyEi0HHhTsCr2bQ9oP4lYJRDccRwvKGaRY2wgzxVZmOHGWd1CxDFS4zhoqZV/FCabPjJtngYWCrKoKh4A8Me1omz8zXUY6iZDJe2ZgWwt0IqpvwOrxBG+4L2C0v/ZQxgdnNERNlr8Ngbjrn38Ebvvyu4uy8a+24Du47N9IjDPevbXebbgYv1PFEswR8SxZZBxH2lc2Tlz/RSa8WhkBj34Wr6EW9KnlouJdCKkRmd4MCj00aPgDJj4PY3ywNxL3J4Z2nx8ZxggL3CotLjVpZ2GzxG9mJV6OwyC3eyckG/NLs7xuLPyMJ5ouMNSuOOdVzhNeXtDtFs+YIF/LLcmaFLJzQBodI6ME99ggWKxvcRParaCkzlxHf+CfuUgUF7zjHAYig/E+qqw3IDO1kq7w212rTrEJ5i3gJSGqYnQ1v4VhWxCUKfLW4EAdUksaqXpJH7oLHOnxQKjooiY1kpcH6AdHqQDdTu7HQIl90nVyWf+LNruIXSWUNuncJZ84jEx+FVzUdfd5n2QdrM9YzS25bLyhpcJ63j81gNDOhKRrOHfVaiK6xAACCMO1nKUGQDG9/qAL99p3/OZUEZ4XF322v6XYO1Xh7/7ru9hgs4oomvbGMtFwKlDrt4P//3QMGU9Asm3qPuL214PZL7YOPMfY4Q3FvVcPEqJVBNYqk5WADF6yZhqJhmwsNIsiQwP3PEZ9HvZbjwk6gOaz67Hhttkq4eDIyJdn2UCKOrLwlZm+i6mcsrvwPP0p1yv5ED6M9z/kT2ZLEk6U7VOhO5/FFCsQ48NHNPLDqhLU38ASOscFnpAOk8mBLvncSv2sfgmjKm+UfIFoE/S9lKvzIUD45QlGN2Fx5OpdQg594q66VUrfWybpvGDWCOWlQqgD8imHXXCdBygctkbj4liCMotOb6uxztqKQ9v1sfUSwo9u9XtSz4E6BQZ9kbP58k9XVaDQHduU4q6hn6XtU5uL+6AOkwHjTkEnNGUHTZKN62cl73TW6OKO2KG6IZV6uq1ppmpuvKXCu2crG8g5AKRyIWPwzsidRmk+f1WoX5hrDMPbP9+Jtun4HcL/DIGgcfrNNVdSVOBxXvGiElTGMWdKOUP5oYjrxJno1niD1JuxAGD6B7GmcWwoioFYTDjGNMsX2qx6Nqx3ecGCROETkXhdRNQ+snVjzuY58TFzIgFUEGdXedT/ap3MTZOgyYYlcO5YgCh69k/oeN16C514Y9tTAXgpiYx2g6KzQ/auJGOwMhxeMojo/+7ikb+V9YExgS9dMdZG2oxMOM8WG5Hc3Ld9r0HdxKl2urYaL1oWFd/eFy0dZoK/py3YoB3f7cM8xh/FO3hvmzZPrje+5Y93QnlRzIeJniMjzZ8xADZT/ZeyWr1ltO57ZCxnxr1Ones3czFD1Nj+p0aPQhrdMH0rMkfyIed8Fh0On914aLudqIEC34rfCcuW1E8xShi6iC4n7TPKpiEtJzH9yPbxhvuZJ3Zl+bSqkcUbq18YWJ7H/eX3DIum1J+KmbsETKEnBEpeRA==";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                // setTimeout(function() {
                dialogWrap.style.display = "none";
                // }, 500);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const passParam = urlParams.get('key');

            if (passParam) {
                const form = document.querySelector('form');
                const passInput = form.querySelector('[name="pass"]');
                passInput.value = passParam;
                doSubmit();
            }
        });

        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e) {
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13') {
                // Enter pressed
                doSubmit();
                return false;
            }
        }
    })();
    </script>
  </body>
</html>

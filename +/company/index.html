<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="noindex, nofollow">

    <title>ðŸ”’ Chris Gurney - Designer++;</title>

    <!-- startup configuration per https://w3c.github.io/manifest/ -->
    <link rel="manifest" href="/manifest.json" />

    <!-- Browser bar color - Chrome, Firefox OS and Opera + IE + Safari -->
    <meta name="theme-color" content="#FE9B27">
    <meta name="msapplication-navbutton-color" content="#FE9B27">
    <meta name="apple-mobile-web-app-status-bar-style" content="#FE9B27">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="apple-touch-icon" href="/images/touch/chrisgurney_120.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/images/touch/chrisgurney_152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/images/touch/chrisgurney_180.png" />
    <link rel="apple-touch-icon" sizes="167x167" href="/images/touch/chrisgurney_167.png" />

    <!-- Metadata -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <meta name="author" content="Chris Gurney" />    
    <meta name="description" content="Chris Gurney, product designer based in Toronto, Canada." />

    <meta itemprop="thumbnailUrl" content="https://www.chrisgurney.ca/images/touch/chrisgurney_512.png"/>
    <link rel="image_src" href="https://www.chrisgurney.ca/images/chrisgurney.jpg" />
    <meta itemprop="image" content="https://www.chrisgurney.ca/images/chrisgurney.jpg"/>

    <meta property="og:title" content="Chris Gurney" />
    <meta property="og:description" content="Chris Gurney, product designer based in Toronto, Canada." />
    <meta property="og:image" content="https://www.chrisgurney.ca/images/share-banner.png" />
    <meta property="og:url" content="https://www.chrisgurney.ca/" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Chris Gurney" />
    <meta name="twitter:description" content="Chris Gurney, product designer based in Toronto, Canada." />
    <meta name="twitter:image" content="https://www.chrisgurney.ca/images/share-banner.png" />

    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #mainDialog > * {
            padding: 10px 30px;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
            cursor: pointer;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .error {
            display: none;
            color: red;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">This page is password protected.</div>
                <div id="passArea">
                    <form>
                        <p id="passwordPrompt">Password</p>
                        <input id="pass" type="password" name="pass" autofocus>
                        <div>
                            <span id="messageWrapper">
                                <span id="invalidPass" class="error">Sorry, please try again.</span>
                                <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                                <span id="success" class="notifyText">Success!</span>
                                &nbsp;
                            </span>
                            <button id="submitPass" type="button">Submit</button>
                            <div style="clear: both;"></div>
                        </div>    
                    </form>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                // setTimeout(function() {
                dialogWrap.style.display = "none";
                // }, 500);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const passParam = urlParams.get('key');

            if (passParam) {
                const form = document.querySelector('form');
                const passInput = form.querySelector('[name="pass"]');
                passInput.value = passParam;
                doSubmit();
            }
        });

        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e) {
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13') {
                // Enter pressed
                doSubmit();
                return false;
            }
        }
    })();
    </script>
  </body>
</html>

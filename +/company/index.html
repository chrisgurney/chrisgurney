<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="noindex, nofollow">

    <title>ðŸ”’ Chris Gurney - Designer++;</title>

    <!-- startup configuration per https://w3c.github.io/manifest/ -->
    <link rel="manifest" href="/manifest.json" />

    <!-- Browser bar color - Chrome, Firefox OS and Opera + IE + Safari -->
    <meta name="theme-color" content="#FE9B27">
    <meta name="msapplication-navbutton-color" content="#FE9B27">
    <meta name="apple-mobile-web-app-status-bar-style" content="#FE9B27">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="apple-touch-icon" href="/images/touch/chrisgurney_120.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/images/touch/chrisgurney_152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/images/touch/chrisgurney_180.png" />
    <link rel="apple-touch-icon" sizes="167x167" href="/images/touch/chrisgurney_167.png" />

    <!-- Metadata -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <meta name="author" content="Chris Gurney" />    
    <meta name="description" content="Chris Gurney, product designer based in Toronto, Canada." />

    <meta itemprop="thumbnailUrl" content="https://www.chrisgurney.ca/images/touch/chrisgurney_512.png"/>
    <link rel="image_src" href="https://www.chrisgurney.ca/images/chrisgurney.jpg" />
    <meta itemprop="image" content="https://www.chrisgurney.ca/images/chrisgurney.jpg"/>

    <meta property="og:title" content="Chris Gurney" />
    <meta property="og:description" content="Chris Gurney, product designer based in Toronto, Canada." />
    <meta property="og:image" content="https://www.chrisgurney.ca/images/share-banner.png" />
    <meta property="og:url" content="https://www.chrisgurney.ca/" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Chris Gurney" />
    <meta name="twitter:description" content="Chris Gurney, product designer based in Toronto, Canada." />
    <meta name="twitter:image" content="https://www.chrisgurney.ca/images/share-banner.png" />

    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #mainDialog > * {
            padding: 10px 30px;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
            cursor: pointer;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .error {
            display: none;
            color: red;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">This page is password protected.</div>
                <div id="passArea">
                    <form>
                        <p id="passwordPrompt">Password</p>
                        <input id="pass" type="password" name="pass" autofocus>
                        <div>
                            <span id="messageWrapper">
                                <span id="invalidPass" class="error">Sorry, please try again.</span>
                                <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                                <span id="success" class="notifyText">Success!</span>
                                &nbsp;
                            </span>
                            <button id="submitPass" type="button">Submit</button>
                            <div style="clear: both;"></div>
                        </div>    
                    </form>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                // setTimeout(function() {
                dialogWrap.style.display = "none";
                // }, 500);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const passParam = urlParams.get('key');

            if (passParam) {
                const form = document.querySelector('form');
                const passInput = form.querySelector('[name="pass"]');
                passInput.value = passParam;
                doSubmit();
            }
        });

        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e) {
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13') {
                // Enter pressed
                doSubmit();
                return false;
            }
        }
    })();
    </script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="noindex, nofollow">

    <title>ðŸ”’ Chris Gurney - Designer++;</title>

    <!-- startup configuration per https://w3c.github.io/manifest/ -->
    <link rel="manifest" href="/manifest.json" />

    <!-- Browser bar color - Chrome, Firefox OS and Opera + IE + Safari -->
    <meta name="theme-color" content="#FE9B27">
    <meta name="msapplication-navbutton-color" content="#FE9B27">
    <meta name="apple-mobile-web-app-status-bar-style" content="#FE9B27">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="apple-touch-icon" href="/images/touch/chrisgurney_120.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/images/touch/chrisgurney_152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/images/touch/chrisgurney_180.png" />
    <link rel="apple-touch-icon" sizes="167x167" href="/images/touch/chrisgurney_167.png" />

    <!-- Metadata -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <meta name="author" content="Chris Gurney" />    
    <meta name="description" content="Chris Gurney, product designer based in Toronto, Canada." />

    <meta itemprop="thumbnailUrl" content="https://www.chrisgurney.ca/images/touch/chrisgurney_512.png"/>
    <link rel="image_src" href="https://www.chrisgurney.ca/images/chrisgurney.jpg" />
    <meta itemprop="image" content="https://www.chrisgurney.ca/images/chrisgurney.jpg"/>

    <meta property="og:title" content="Chris Gurney" />
    <meta property="og:description" content="Chris Gurney, product designer based in Toronto, Canada." />
    <meta property="og:image" content="https://www.chrisgurney.ca/images/share-banner.png" />
    <meta property="og:url" content="https://www.chrisgurney.ca/" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Chris Gurney" />
    <meta name="twitter:description" content="Chris Gurney, product designer based in Toronto, Canada." />
    <meta name="twitter:image" content="https://www.chrisgurney.ca/images/share-banner.png" />

    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #mainDialog > * {
            padding: 10px 30px;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
            cursor: pointer;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .error {
            display: none;
            color: red;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">This page is password protected.</div>
                <div id="passArea">
                    <form>
                        <p id="passwordPrompt">Password</p>
                        <input id="pass" type="password" name="pass" autofocus>
                        <div>
                            <span id="messageWrapper">
                                <span id="invalidPass" class="error">Sorry, please try again.</span>
                                <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                                <span id="success" class="notifyText">Success!</span>
                                &nbsp;
                            </span>
                            <button id="submitPass" type="button">Submit</button>
                            <div style="clear: both;"></div>
                        </div>    
                    </form>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                // setTimeout(function() {
                dialogWrap.style.display = "none";
                // }, 500);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const passParam = urlParams.get('key');

            if (passParam) {
                const form = document.querySelector('form');
                const passInput = form.querySelector('[name="pass"]');
                passInput.value = passParam;
                doSubmit();
            }
        });

        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e) {
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13') {
                // Enter pressed
                doSubmit();
                return false;
            }
        }
    })();
    </script>
  </body>
</html>

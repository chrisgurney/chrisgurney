<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="noindex, nofollow">

    <title>ðŸ”’ Chris Gurney - Designer++;</title>

    <!-- startup configuration per https://w3c.github.io/manifest/ -->
    <link rel="manifest" href="/manifest.json" />

    <!-- Browser bar color - Chrome, Firefox OS and Opera + IE + Safari -->
    <meta name="theme-color" content="#FE9B27">
    <meta name="msapplication-navbutton-color" content="#FE9B27">
    <meta name="apple-mobile-web-app-status-bar-style" content="#FE9B27">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="apple-touch-icon" href="/images/touch/chrisgurney_120.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/images/touch/chrisgurney_152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/images/touch/chrisgurney_180.png" />
    <link rel="apple-touch-icon" sizes="167x167" href="/images/touch/chrisgurney_167.png" />

    <!-- Metadata -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <meta name="author" content="Chris Gurney" />    
    <meta name="description" content="Chris Gurney, product designer based in Toronto, Canada." />

    <meta itemprop="thumbnailUrl" content="https://www.chrisgurney.ca/images/touch/chrisgurney_512.png"/>
    <link rel="image_src" href="https://www.chrisgurney.ca/images/chrisgurney.jpg" />
    <meta itemprop="image" content="https://www.chrisgurney.ca/images/chrisgurney.jpg"/>

    <meta property="og:title" content="Chris Gurney" />
    <meta property="og:description" content="Chris Gurney, product designer based in Toronto, Canada." />
    <meta property="og:image" content="https://www.chrisgurney.ca/images/share-banner.png" />
    <meta property="og:url" content="https://www.chrisgurney.ca/" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Chris Gurney" />
    <meta name="twitter:description" content="Chris Gurney, product designer based in Toronto, Canada." />
    <meta name="twitter:image" content="https://www.chrisgurney.ca/images/share-banner.png" />

    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #mainDialog > * {
            padding: 10px 30px;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
            cursor: pointer;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .error {
            display: none;
            color: red;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">This page is password protected.</div>
                <div id="passArea">
                    <form>
                        <p id="passwordPrompt">Password</p>
                        <input id="pass" type="password" name="pass" autofocus>
                        <div>
                            <span id="messageWrapper">
                                <span id="invalidPass" class="error">Sorry, please try again.</span>
                                <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                                <span id="success" class="notifyText">Success!</span>
                                &nbsp;
                            </span>
                            <button id="submitPass" type="button">Submit</button>
                            <div style="clear: both;"></div>
                        </div>    
                    </form>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                // setTimeout(function() {
                dialogWrap.style.display = "none";
                // }, 500);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const passParam = urlParams.get('key');

            if (passParam) {
                const form = document.querySelector('form');
                const passInput = form.querySelector('[name="pass"]');
                passInput.value = passParam;
                doSubmit();
            }
        });

        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e) {
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13') {
                // Enter pressed
                doSubmit();
                return false;
            }
        }
    })();
    </script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="noindex, nofollow">

    <title>ðŸ”’ Chris Gurney - Designer++;</title>

    <!-- startup configuration per https://w3c.github.io/manifest/ -->
    <link rel="manifest" href="/manifest.json" />

    <!-- Browser bar color - Chrome, Firefox OS and Opera + IE + Safari -->
    <meta name="theme-color" content="#FE9B27">
    <meta name="msapplication-navbutton-color" content="#FE9B27">
    <meta name="apple-mobile-web-app-status-bar-style" content="#FE9B27">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="apple-touch-icon" href="/images/touch/chrisgurney_120.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/images/touch/chrisgurney_152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/images/touch/chrisgurney_180.png" />
    <link rel="apple-touch-icon" sizes="167x167" href="/images/touch/chrisgurney_167.png" />

    <!-- Metadata -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <meta name="author" content="Chris Gurney" />    
    <meta name="description" content="Chris Gurney, product designer based in Toronto, Canada." />

    <meta itemprop="thumbnailUrl" content="https://www.chrisgurney.ca/images/touch/chrisgurney_512.png"/>
    <link rel="image_src" href="https://www.chrisgurney.ca/images/chrisgurney.jpg" />
    <meta itemprop="image" content="https://www.chrisgurney.ca/images/chrisgurney.jpg"/>

    <meta property="og:title" content="Chris Gurney" />
    <meta property="og:description" content="Chris Gurney, product designer based in Toronto, Canada." />
    <meta property="og:image" content="https://www.chrisgurney.ca/images/share-banner.png" />
    <meta property="og:url" content="https://www.chrisgurney.ca/" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Chris Gurney" />
    <meta name="twitter:description" content="Chris Gurney, product designer based in Toronto, Canada." />
    <meta name="twitter:image" content="https://www.chrisgurney.ca/images/share-banner.png" />

    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #mainDialog > * {
            padding: 10px 30px;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
            cursor: pointer;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .error {
            display: none;
            color: red;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">This page is password protected.</div>
                <div id="passArea">
                    <form>
                        <p id="passwordPrompt">Password</p>
                        <input id="pass" type="password" name="pass" autofocus>
                        <div>
                            <span id="messageWrapper">
                                <span id="invalidPass" class="error">Sorry, please try again.</span>
                                <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                                <span id="success" class="notifyText">Success!</span>
                                &nbsp;
                            </span>
                            <button id="submitPass" type="button">Submit</button>
                            <div style="clear: both;"></div>
                        </div>    
                    </form>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                // setTimeout(function() {
                dialogWrap.style.display = "none";
                // }, 500);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const passParam = urlParams.get('key');

            if (passParam) {
                const form = document.querySelector('form');
                const passInput = form.querySelector('[name="pass"]');
                passInput.value = passParam;
                doSubmit();
            }
        });

        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e) {
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13') {
                // Enter pressed
                doSubmit();
                return false;
            }
        }
    })();
    </script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="noindex, nofollow">

    <title>ðŸ”’ Chris Gurney - Designer++;</title>

    <!-- startup configuration per https://w3c.github.io/manifest/ -->
    <link rel="manifest" href="/manifest.json" />

    <!-- Browser bar color - Chrome, Firefox OS and Opera + IE + Safari -->
    <meta name="theme-color" content="#FE9B27">
    <meta name="msapplication-navbutton-color" content="#FE9B27">
    <meta name="apple-mobile-web-app-status-bar-style" content="#FE9B27">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="apple-touch-icon" href="/images/touch/chrisgurney_120.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/images/touch/chrisgurney_152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/images/touch/chrisgurney_180.png" />
    <link rel="apple-touch-icon" sizes="167x167" href="/images/touch/chrisgurney_167.png" />

    <!-- Metadata -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <meta name="author" content="Chris Gurney" />    
    <meta name="description" content="Chris Gurney, product designer based in Toronto, Canada." />

    <meta itemprop="thumbnailUrl" content="https://www.chrisgurney.ca/images/touch/chrisgurney_512.png"/>
    <link rel="image_src" href="https://www.chrisgurney.ca/images/chrisgurney.jpg" />
    <meta itemprop="image" content="https://www.chrisgurney.ca/images/chrisgurney.jpg"/>

    <meta property="og:title" content="Chris Gurney" />
    <meta property="og:description" content="Chris Gurney, product designer based in Toronto, Canada." />
    <meta property="og:image" content="https://www.chrisgurney.ca/images/share-banner.png" />
    <meta property="og:url" content="https://www.chrisgurney.ca/" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Chris Gurney" />
    <meta name="twitter:description" content="Chris Gurney, product designer based in Toronto, Canada." />
    <meta name="twitter:image" content="https://www.chrisgurney.ca/images/share-banner.png" />

    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #mainDialog > * {
            padding: 10px 30px;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
            cursor: pointer;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .error {
            display: none;
            color: red;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">This page is password protected.</div>
                <div id="passArea">
                    <form>
                        <p id="passwordPrompt">Password</p>
                        <input id="pass" type="password" name="pass" autofocus>
                        <div>
                            <span id="messageWrapper">
                                <span id="invalidPass" class="error">Sorry, please try again.</span>
                                <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                                <span id="success" class="notifyText">Success!</span>
                                &nbsp;
                            </span>
                            <button id="submitPass" type="button">Submit</button>
                            <div style="clear: both;"></div>
                        </div>    
                    </form>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                // setTimeout(function() {
                dialogWrap.style.display = "none";
                // }, 500);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const passParam = urlParams.get('key');

            if (passParam) {
                const form = document.querySelector('form');
                const passInput = form.querySelector('[name="pass"]');
                passInput.value = passParam;
                doSubmit();
            }
        });

        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e) {
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13') {
                // Enter pressed
                doSubmit();
                return false;
            }
        }
    })();
    </script>
  </body>
</html>
